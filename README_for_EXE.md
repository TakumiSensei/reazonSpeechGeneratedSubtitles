# ReazonSpeech 音声文字起こしツール (EXE版) 利用ガイド

このツールは、フォルダに入れた音声ファイルを自動で文字起こしし、字幕ファイル（SRT形式）を作成するWindows用アプリケーションです。

---

## 📁 フォルダ構成と準備

配布されたフォルダには以下のファイル・フォルダが含まれていることを確認してください。

- **`ReazonSpeechApp.exe`**: 実行プログラム本体
- **`config.json`**: 設定ファイル
- **`inputs`**: 音声ファイルを入れるフォルダ（なければ自動作成されます）
- **`outputs`**: 文字起こし結果が保存されるフォルダ（なければ自動作成されます）

### 準備

1. **`inputs` フォルダ**の中に、文字起こししたい音声ファイルをコピーしてください。
    - 対応形式: `.wav`, `.mp3`, `.m4a`, `.flac`, `.ogg` など

---

## 🚀 使い方

1. **`ReazonSpeechApp.exe`** をダブルクリックして起動します。
2. 黒い画面（コンソール）が表示され、処理が始まります。
    - 初回起動時は準備のため少し時間がかかる場合があります。
    - GPU（NVIDIA製）搭載のPCでは、自動的にGPUを使用して高速に処理します。
3. 処理が完了すると、画面に完了メッセージが表示されます。
4. **`outputs` フォルダ**を確認してください。音声ファイルと同じ名前のSRTファイル（字幕ファイル）が作成されています。

---

## ⚙️ 設定の変更 (config.json)

`config.json` をメモ帳などで開くと、動作を細かく設定できます。
書き換えた後はファイルを保存し、アプリを再起動すると設定が反映されます。

| 設定項目 | 説明 | 設定例 |
| :--- | :--- | :--- |
| **`model_type`** | 使用するAIモデルを指定します。<br>・`"k2v2"`: 最新モデル（推奨・高速）<br>・`"nemo"`: 高精度モデル（より正確ですが重い場合があります） | `"k2v2"` または `"nemo"` |
| **`remove_period`** | 文字起こし結果の文末にある「。」を削除するか設定します。<br>・`true`: 削除する<br>・`false`: そのまま残す | `true` または `false` |
| **`output_mode`** | 字幕の区切り方を指定します。<br>・`"segment"`: 話し言葉の区切り（推奨）<br>・`"subword"`: 細かい単語単位（デバッグ用） | `"segment"` |
| **`extend_segment_end`** | 字幕の表示時間を少し長くするか設定します。早口で字幕が消えるのを防ぎたい場合に有効です。 | `true` |
| **`extend_segment_end_seconds`** | 延長する秒数を指定します（`extend_segment_end` が `true` の場合）。 | `0.8` |
| **`timestamp_format`** | 出力ファイル名に付く日時の形式です。 | `"%Y%m%d_%H%M%S"` |
| **`input_dir`** | 入力フォルダの名前を変更したい場合に指定します。 | `"inputs"` |
| **`output_dir`** | 出力フォルダの名前を変更したい場合に指定します。 | `"outputs"` |

---

## ❓ トラブルシューティング

**Q. 実行してもすぐ終了してしまう・エラーが出る**
- `config.json` の記述（カンマ `,` の忘れなど）が正しいか確認してください。
- 非常に長い音声ファイルの場合、メモリ不足になることがあります。音声を分割して試してください。

**Q. 文字起こし精度が低い**
- ノイズが多い、またはマイクが遠い音声は認識が難しくなります。
- `model_type` を `"nemo"` に変更してみると改善する場合があります。

**Q. GPUが使われない**
- NVIDIA製のGPU（GeForceなど）が搭載されているか確認してください。
- 最新のGPUドライバがインストールされているか確認してください。

---
作成日: 2026/01/22
